<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>proxy on 人渣29的小窝</title><link>https://harrywang29.github.io/tags/proxy/</link><description>Recent content in proxy on 人渣29的小窝</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Tue, 30 Aug 2022 20:51:52 +0800</lastBuildDate><atom:link href="https://harrywang29.github.io/tags/proxy/index.xml" rel="self" type="application/rss+xml"/><item><title>利用内网穿透解决nacos内网问题</title><link>https://harrywang29.github.io/tech/%E5%88%A9%E7%94%A8%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%A7%A3%E5%86%B3nacos%E5%86%85%E7%BD%91%E9%97%AE%E9%A2%98/</link><pubDate>Tue, 30 Aug 2022 20:51:52 +0800</pubDate><guid>https://harrywang29.github.io/tech/%E5%88%A9%E7%94%A8%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%A7%A3%E5%86%B3nacos%E5%86%85%E7%BD%91%E9%97%AE%E9%A2%98/</guid><description>背景 Link to heading 技术栈 Link to heading java spring-cloud nacos 办公地点 Link to heading 3个不同的省市自治区 问题 Link to heading 由于开发环境部署在A市的机房中，于是其他市的开发就无法接入开发环境进行联调，特别是遇到B市的后端与C市的前端共同开发需求的情况。
核心问题其实就两个：
A市外的机器要访问nacos把服务注册到nacos中 开发环境中gateway需要访问到外部的机器 解决方案 Link to heading 最后解决的时候发现，上面两个问题其实总结下来，依旧是内网穿透的问题，所以需要一个公网机器中转即可
注册nacos Link to heading 这一部分其实相对简单，因为开发过程中总要看看数据库什么的，所以很早就使用了frp进行内网穿透
frps配制，其实frps本身并没有什么特殊需要配制的东西，主要就是port和token注意一下就好
主要还是frpc部分
... #frpc的基础部分，ip啊port啊这些就直接省略了 #增加ssh映射 [nacos] type = tcp local_ip = 192.168.0.15 #内网的ip地址，由于内网存在多台机器，我只需要将frpc安装在一台机器上，由此机器进行内网中转即可 local_port = 2222 #内网机器端口 use_encryption = false use_compression = false # remote port listen by frps remote_port = 150 #公网机器开发的端口 这样设置好之后，访问公网的150端口就可以访问到 192.168.0.15就可以访问15机器了</description></item></channel></rss>